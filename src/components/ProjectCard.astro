--- 
import TechTag from "./TechTag.astro";
import StatusBadge from "./StatusBadge.astro";
import type { CollectionEntry } from "astro:content";

export interface Props {
  project: CollectionEntry<"project">;
}

const { project } = Astro.props;
const { data, slug } = project;
const { title, oneLiner, media, category, status, tech, featured } = data;
---

<a href={`/projects/${slug}`} class="group block border border-border rounded-lg hover:border-muted-foreground/50 transition-all duration-500 hover:shadow-lg">
  <img src={media.coverImage.url} alt={media.coverImage.alt} class="w-full h-48 object-cover rounded-t-lg" />
  <div class="p-6">
    <div class="flex items-center justify-between">
      <div class="flex items-center gap-2">
        <span class="text-xs font-mono bg-muted text-muted-foreground px-2 py-1 rounded-full">{category}</span>
        <StatusBadge status={status} />
      </div>
      {featured && <span class="text-xs font-mono text-yellow-500">â˜… Featured</span>}
    </div>
    <h3 class="text-lg sm:text-xl font-medium group-hover:text-muted-foreground transition-colors duration-300 mt-4">{title}</h3>
    <p class="text-muted-foreground leading-relaxed mt-2">{oneLiner}</p>
    <div class="flex flex-wrap gap-2 mt-4">
      {tech.slice(0, 2).map((t) => (
        <TechTag name={t} />
      ))}
    </div>
  </div>
</a>
